import client from "../database/redis.js";
import DefaultSettings from "../model/default-setting.model.js";

//Create Api
export const createDefault = async (req, res) => {
  try {
    // let result = await client.del('defaultSetting')
    let isDefaultSetting = await client.get("defaultSetting");
    if (isDefaultSetting) {
      return res
        .status(400)
        .json({ success: false, message: "Default settings already exist!!" });
    }

    let c = [
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "3",
        marketName: "Fancy",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "3",
        marketName: "Fancy",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "3",
        marketName: "Fancy",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "4",
        marketName: "Premium Fancy",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "4",
        marketName: "Premium Fancy",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "4",
        marketName: "Premium Fancy",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "5",
        marketName: "Toss",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "5",
        marketName: "Toss",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "5",
        marketName: "Toss",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "6",
        marketName: "Completed Match",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "6",
        marketName: "Completed Match",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "6",
        marketName: "Completed Match",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "7",
        marketName: "Tied Match",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "7",
        marketName: "Tied Match",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "7",
        marketName: "Tied Match",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "8",
        marketName: "To Win the Toss",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "8",
        marketName: "To Win the Toss",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "8",
        marketName: "To Win the Toss",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "9",
        marketName: "Total Sixes",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "9",
        marketName: "Total Sixes",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "9",
        marketName: "Total Sixes",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "10",
        marketName: "Total Fours",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "10",
        marketName: "Total Fours",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "10",
        marketName: "Total Fours",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "11",
        marketName: "Most Sixes",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "11",
        marketName: "Most Sixes",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "11",
        marketName: "Most Sixes",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "12",
        marketName: "Most Fours",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "12",
        marketName: "Most Fours",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "12",
        marketName: "Most Fours",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "13",
        marketName: "Super Over",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "13",
        marketName: "Super Over",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "13",
        marketName: "Super Over",
        type: "full",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "14",
        marketName: "Over Total",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "14",
        marketName: "Over Total",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "14",
        marketName: "Over Total",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "15",
        marketName: "Over Line",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "15",
        marketName: "Over Line",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "15",
        marketName: "Over Line",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "16",
        marketName: "Runs Line",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "16",
        marketName: "Runs Line",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "16",
        marketName: "Runs Line",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "17",
        marketName: "Batter",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "17",
        marketName: "Batter",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "17",
        marketName: "Batter",
        type: "partial",
        sport: "4",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
    ];

    let t = [
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "3",
        marketName: "Premium Fancy",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "3",
        marketName: "Premium Fancy",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "3",
        marketName: "Premium Fancy",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "4",
        marketName: "Set Winner",
        type: "partial",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "4",
        marketName: "Set Winner",
        type: "partial",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "4",
        marketName: "Set Winner",
        type: "partial",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      // ---
      {
        id: "5",
        marketName: "Correct Score",
        type: "partial",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "5",
        marketName: "Correct Score",
        type: "partial",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "5",
        marketName: "Correct Score",
        type: "partial",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "6",
        marketName: "Number of Sets",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "6",
        marketName: "Number of Sets",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "6",
        marketName: "Number of Sets",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "7",
        marketName: "Handicap",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "7",
        marketName: "Handicap",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "7",
        marketName: "Handicap",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "8",
        marketName: "Set Betting",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "8",
        marketName: "Set Betting",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "8",
        marketName: "Set Betting",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "9",
        marketName: "Total Games",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "9",
        marketName: "Total Games",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "9",
        marketName: "Total Games",
        type: "full",
        sport: "2",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
    ];

    let s = [
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "1",
        marketName: "Match Odds",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "2",
        marketName: "Bookmaker",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },


      {
        id: "3",
        marketName: "Premium Fancy",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "3",
        marketName: "Premium Fancy",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "3",
        marketName: "Premium Fancy",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "4",
        marketName: "Over/Under",
        type: "partial",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "4",
        marketName: "Over/Under",
        type: "partial",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "4",
        marketName: "Over/Under",
        type: "partial",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "5",
        marketName: "Draw no Bet",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "5",
        marketName: "Draw no Bet",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "5",
        marketName: "Draw no Bet",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "6",
        marketName: "Double Chance",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "6",
        marketName: "Double Chance",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "6",
        marketName: "Double Chance",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "7",
        marketName: "Half Time",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "7",
        marketName: "Half Time",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "7",
        marketName: "Half Time",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "8",
        marketName: "Player To Score a Hat-trick?",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "8",
        marketName: "Player To Score a Hat-trick?",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "8",
        marketName: "Player To Score a Hat-trick?",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "9",
        marketName: "Both team to Score",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "9",
        marketName: "Both team to Score",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "9",
        marketName: "Both team to Score",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "10",
        marketName: "Half Time Score",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "10",
        marketName: "Half Time Score",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "10",
        marketName: "Half Time Score",
        type: "full",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },

      {
        id: "11",
        marketName: "Player To Score",
        type: "partial",
        sport: "1",
        status: false,
        gradeType: "A",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "11",
        marketName: "Player To Score",
        type: "partial",
        sport: "1",
        status: false,
        gradeType: "B",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
      {
        id: "11",
        marketName: "Player To Score",
        type: "partial",
        sport: "1",
        status: false,
        gradeType: "C",
        preMinStake:"",
        preMaxStake:"",
        preMaxPL:"",
        minStake:"",
        maxStake:"",
        maxPL:"",
        delay:"",
        oddsLimit:""
      },
    ];

    let result = [...c, ...t, ...s];
    await client.set("defaultSetting", JSON.stringify(result));

    const mongoData = new DefaultSettings({
      data: JSON.stringify(result),
    });
    await mongoData.save();

    return res.status(201).json({ success: true, data: result });
  } catch (err) {
    return res.status(500).json({ success: false, message: err.message });
  }
};

// Update Api
export const updateSingleDefault = async (req, res) => {
  try {
    const { sport, id, gradeType, updates } = req.body;

    if (!sport || !id || !gradeType || !updates) {
      return res.status(400).json({ success: false, message: "Missing required fields" });
    }

    // Get from Redis
    let settings = await client.get("defaultSetting");
    if (!settings) {
      return res.status(404).json({ success: false, message: "No default settings found" });
    }

    let parsed = JSON.parse(settings);

    // Find and update
    let updated = parsed.map((item) => {
      if (item.sport === sport && item.id === id && item.gradeType === gradeType) {
        return { ...item, ...updates };
      }
      return item;
    });

    // Save back to Redis
    await client.set("defaultSetting", JSON.stringify(updated));

    // Save back to MongoDB
    await DefaultSettings.findOneAndUpdate(
      {},
      { data: JSON.stringify(updated) },
      { upsert: true, new: true }
    );

    return res.status(200).json({ success: true, message: "Market updated successfully", data: updated });
  } catch (err) {
    return res.status(500).json({ success: false, message: err.message });
  }
};


//Get Api
export const getDefault = async (req, res) => {
  try {
    // 1. Check Redis
    let cachedData = await client.get("defaultSetting");
    if (cachedData) {
      return res.status(200).json({
        success: true,
        source: "redis",
        data: JSON.parse(cachedData),
      });
    }

    // 2. If not in Redis, check MongoDB
    const dbRecord = await DefaultSettings.findOne();
    if (!dbRecord) {
      return res.status(404).json({
        success: false,
        message: "No default settings found",
      });
    }

    // Parse data from MongoDB
    let parsedData;
    try {
      parsedData = JSON.parse(dbRecord.data);
    } catch (err) {
      return res.status(500).json({
        success: false,
        message: "Stored data in MongoDB is not valid JSON",
      });
    }

    // 3. Save back into Redis for caching
    await client.set("defaultSetting", JSON.stringify(parsedData));

    return res.status(200).json({
      success: true,
      source: "mongo",
      data: parsedData,
    });
  } catch (err) {
    return res.status(500).json({
      success: false,
      message: err.message,
    });
  }
};
